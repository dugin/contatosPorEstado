<!--
  Generated template for the ListContactsPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-buttons end>
      <button (click)="presentOptions($event)">
        <ion-icon name="options"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title class="title">Listado</ion-title>
  </ion-navbar>

</ion-header>



<ion-content class="list-contacts" padding-bottom>

  <!--
   <button (click)="savefn()">Add Contact</button>
   <ion-input type="text" [(ngModel)]="contacttobefound" placeholder="Enter display name"></ion-input>
   <button (click)="findfn(contacttobefound)">Find</button>
   <ion-list [hidden]="!search">
       <ion-item *ngFor="let item of contactsfound">
           {{item.displayName}}
       </ion-item>
   </ion-list> -->

  <div class="spinner">
       <ion-spinner *ngIf="loading" name="dots"></ion-spinner>

       <h3 *ngIf="noContact"> Nenhum Contato </h3>
      </div>


 <ion-list [bufferRatio]="4" [approxItemHeight]=" '40px' "  [virtualScroll]="test" [headerFn]="myHeaderFn" >

   <ion-item-divider light *virtualHeader="let header">
    {{ header }}
  </ion-item-divider>


  <button  ion-item *virtualItem="let contact" ion-item (click)='selectContact(contact)'>
 
      <ion-avatar item-left>
      <img [src]=getImgSanatized(contact) /> 
    </ion-avatar>  
    
                 {{contact.name.formatted}}
       </button>

</ion-list>



<!--
<ion-item-group *ngFor="let group of groupedContacts" class="alpha_list">
 
      <ion-item-divider light>{{group.letter}}</ion-item-divider>
      <button ion-item *ngFor="let contact of group.contacts" (click)='selectContact(contact)' >

       <ion-avatar item-left>
      <img [src]=getImgSanatized(contact) /> 
    </ion-avatar>  
    
                 {{contact.name.formatted}}
       </button>
 
    </ion-item-group>

    -->
</ion-content>


 <ul [style.top]="isIOS ?  '58px' : '112px'" [style.visibility]="list_index_visibility" class="alpha_sidebar">
    
      <li (click)="gotoList(i)"   *ngFor="let letter of alphabet | async; let i = index; let last = last"> 
          
           <button dark small clear [style.height]= "list_index_margin + 'px'" >{{letter}}</button>
      </li>
    </ul>


 